<%# THIS PUTS ALL THE TYPES OF ANIMALS IN THEIR OWN ARRAY %>
<%# CALLING THE CAROUSEL %>

<div class="all"  data-controller="toggle">
<%= form_with url: meals_path, method: :get, class: "mod-form" do %>
  <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "Type a keyword"
    %>
  <%= button_tag nil, class: "btn mod-btn" do %>
      <i class="bi bi-search"></i>
  <% end %>
<% end %>
<i class="bi bi-sliders2" id="options" data-action="click->toggle#fire"></i>
<div class="mod-body">
  <div class="filters d-none" data-toggle-target="togglableElement">
    <div d-flex><%= link_to "Vegan", meals_path(query:"Vegan") %> </div>
    <div d-flex><%= link_to "Italian", meals_path(query:"Italian") %></div>
    <div d-flex><%= link_to "Japanese", meals_path(query:"Japanese") %></div>
    <div d-flex><%= link_to "Indian", meals_path(query:"Indian") %></div>
    <div d-flex><%= link_to "Canadian", meals_path(query:"Canadian") %></div>
    <div d-flex><%= link_to "Dairy Free", meals_path(query:"Dairy Free") %></div>
    <div d-flex><%= link_to "Dessert", meals_path(query:"Dessert") %></div>
    <div d-flex><%= link_to "Vegetarian", meals_path(query:"Vegetarian") %></div>
    <div d-flex><%= link_to "Penne", meals_path(query:"Penne") %></div>
    <div d-flex><%= link_to "Gluten free", meals_path(query:"Gluten Free") %></div>
    <div d-flex><%= link_to "Pizza", meals_path(query:"Pizza") %></div>
    <div d-flex><%= link_to "Fries", meals_path(query:"Fries") %></div>
  </div>
  <% if params[:query].present? %>
    <h2 id="searched">Recipes for "<%= params[:query] %>"</h2>
    <div class="cards">
    <% @meals.each do |meal| %>
      <%= render "carocard", meal: meal %>
    <% end %>
    </div>
  <% else %>
    <%@cuisines.each_with_index do |meal_array, index| %>
    <br>
      <%unless meal_array.size == 0%>
        <%=render "carousel", list: meal_array, index: index %>
      <% end %>
    <br>
    <% end %>
  <% end %>
</div>
</div>
